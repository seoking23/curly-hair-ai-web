import { HairCareResource } from './types';

// Comprehensive database of hair care resources with real, verified URLs
export const hairCareResources: HairCareResource[] = [
    // Porosity Tests
    {
      "id": "porosity-water-drop-test",
      "title": "Wet Strand Test For Hair Porosity?",
      "description": "Learn the most accurate way to determine your hair porosity using the classic water strand (float) test method, real-time demonstration.",
      "url": "https://www.youtube.com/watch?v=oEB41nccpws",
      "type": "youtube",
      "relevance": 0.95,
      "tags": ["porosity", "water drop test", "hair testing", "curl care"],
      "duration": "7:33",
      "author": "Healthy Afro Hair",
      "thumbnail": "https://img.youtube.com/vi/oEB41nccpws/maxresdefault.jpg"
    },
    {
      "id": "porosity-drying-time",
      "title": "HAIR POROSITY TESTS (Test Your POROSITY LEVELS) (5 EASY ...",
      "description": "How your hair's drying time and various methods reveal its porosity level and what this means for your routine.",
      "url": "https://www.youtube.com/watch?v=BfFYsmARnjE",
      "type": "youtube",
      "relevance": 0.92,
      "tags": ["porosity", "drying time", "hair science", "moisture"],
      "duration": "14:07",
      "author": "Hair by Shaunda",
      "thumbnail": "https://img.youtube.com/vi/BfFYsmARnjE/maxresdefault.jpg"
    },
    {
      "id": "porosity-float-test",
      "title": "TESTING MY HAIR POROSITY AT HOME FOR THE FIRST TIME",
      "description": "Step-by-step guide to the float test method for determining hair porosity.",
      "url": "https://www.youtube.com/watch?v=PYAerJG5cjQ",
      "type": "youtube",
      "relevance": 0.88,
      "tags": ["porosity", "float test", "quick test", "hair care"],
      "duration": "11:56",
      "author": "Jemspired",
      "thumbnail": "https://img.youtube.com/vi/PYAerJG5cjQ/maxresdefault.jpg"
    },
    {
      "id": "porosity-spray-test",
      "title": "Hair Porosity 101 & 3 Easy Hair Porosity Tests! | BiancaReneeToday",
      "description": "Alternative porosity testing using the spray bottle method, plus other porosity test methods.",
      "url": "https://www.youtube.com/watch?v=HaAd8syyaOE",
      "type": "youtube",
      "relevance": 0.85,
      "tags": ["porosity", "spray test", "hair testing", "moisture absorption"],
      "duration": "10:05",
      "author": "BiancaReneeToday",
      "thumbnail": "https://img.youtube.com/vi/HaAd8syyaOE/maxresdefault.jpg"
    },
  
  
    // Volume and Body
    {
      "id": "volume-root-lifting",
      "title": "How To Add Volume To Flat Hair | Root Lifting Techniques",
      "description": "Professional techniques to add volume and lift at the roots for flat hair.",
      "url": "https://www.youtube.com/watch?v=8EREsU1aZrg",
      "type": "youtube",
      "relevance": 0.94,
      "tags": ["volume", "root lift", "flat hair", "styling techniques"],
      "duration": "11:59",
      "author": "Jonathan Van Ness",
      "thumbnail": "https://i.ytimg.com/vi/8EREsU1aZrg/hq720.jpg?sqp=-oaymwEnCNAFEJQDSFryq4qpAxkIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB&rs=AOn4CLCn9bl0D_cUYq5Hn3_HxFy90x5mhg"
    },
    {
      "id": "volume-products",
      "title": "15 Best Volumizing Products for Fine, Flat Hair 2024",
      "description": "Top-rated products specifically designed to add volume and body to curly hair.",
      "url": "https://www.goodhousekeeping.com/beauty/hair/g28799272/best-hair-products/",
      "type": "blog",
      "relevance": 0.91,
      "tags": ["volume", "products", "curly hair", "styling"],
      "author": "April Franzino",
      "source": "Good Housekeeping"
    },
    {
      "id": "volume-diffusing",
      "title": "How To Diffuse Curly Hair for BIG Volume | Curly Girl Method",
      "description": "Proper diffusing techniques to enhance volume and reduce flatness at the roots.",
      "url": "https://www.youtube.com/watch?v=wONwHYy59Tc&pp=ygUnQmlhbmNhUmVuZWVUb2RheSBkaWZmdXNlciBmb3IgYmlnIGN1cmx5",
      "type": "youtube",
      "relevance": 0.89,
      "tags": ["volume", "diffusing", "styling", "curly hair"],
      "duration": "8:57",
      "author": "BiancaReneeToday",
      "thumbnail": "https://i.ytimg.com/vi/wONwHYy59Tc/hqdefault.jpg?sqp=-oaymwEnCOADEI4CSFryq4qpAxkIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB&rs=AOn4CLCia17eJrh3K7OJvos9_MQflC2Izg"
    },
    {
      "id": "volume-clipping",
      "title": "HAIR STYLIST'S GUIDE FOR ROOT VOLUME ON CURLY HAIR (products, techniques & tools)",
      "description": "Learn the clipping method to maintain volume while hair dries.",
      "url": "https://www.youtube.com/watch?v=WVESVb-lIUM&pp=ygUhbWFuZXMgYnkgbWVsbCBjbGlwcGluZyBmb3Igdm9sdW1l",
      "type": "youtube",
      "relevance": 0.87,
      "tags": ["volume", "clipping", "drying techniques", "styling"],
      "duration": "15:59",
      "author": "Manes by Mell",
      "thumbnail": "https://i.ytimg.com/vi/WVESVb-lIUM/hq720.jpg?sqp=-oaymwEnCNAFEJQDSFryq4qpAxkIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB&rs=AOn4CLD2xRLtcbmyjoAQFCyxS8eT6PROtQ"
    },
  
  
    // Texture and Movement
    {
      "id": "texture-definition",
      "title": "CURLY HAIR STYLING MISTAKES TO AVOID + TIPS FOR VOLUME AND DEFINITION (AIR-DRY)",
      "description": "Techniques to enhance natural texture and create more movement in your curls.",
      "url": "https://www.youtube.com/watch?v=RrIVP122a5c&pp=ygUrSG93IHRvIERlZmluZSBDdXJscywgQWRkIFRleHR1cmUgJiBNb3ZlbWVudA%3D%3D",
      "type": "youtube",
      "relevance": 0.93,
      "tags": ["texture", "movement", "curl definition", "styling"],
      "duration": "15:26",
      "author": "Manes by Mell",
      "thumbnail": "https://i.ytimg.com/vi/RrIVP122a5c/hq720.jpg?sqp=-oaymwEnCNAFEJQDSFryq4qpAxkIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB&rs=AOn4CLDwB5TTKwnrYFwQ4HTX8OPjDy6A9Q"
    },
    {
      "id": "texture-products",
      "title": "The Best Curl Creams for Every Hair Type",
      "description": "Product recommendations for adding texture and movement to curly hair.",
      "url": "https://www.byrdie.com/best-curl-creams-4587047",
      "type": "blog",
      "relevance": 0.90,
      "tags": ["texture", "products", "movement", "curly hair"],
      "author": "Byrdie Editors",
      "source": "Byrdie"
    },
    {
      "id": "texture-techniques",
      "title": "Fine/Thin Hair? 7 Game Changing Tips for VOLUME that Lasts All Day!",
      "description": "This tutorial will show you my top game changing tips for how to achieve voluminous hair that will last for hours. Follow these fine thin hair styling hacks to transform your flat hair and leave it looking healthy and fabulous. Whether you want your hair wavy, textured, or straight, these hacks will be absolute game changers in your hair styling routine!",
      "url": "https://www.youtube.com/watch?v=BtRG1uXoKEs&pp=ygUwMTAgVGV4dHVyaXppbmcgVHJpY2tzIHRvIFZvbHVtaXplIEZpbmUgTGltcCBIYWly",
      "type": "youtube",
      "relevance": 0.88,
      "tags": ["texture", "techniques", "styling", "movement"],
      "duration": "7:48",
      "author": "Glam Girl Gabi",
      "thumbnail": "https://i.ytimg.com/vi/BtRG1uXoKEs/hq720.jpg?sqp=-oaymwEnCNAFEJQDSFryq4qpAxkIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB&rs=AOn4CLCwS5O0PBlXhPYbzRgVEP-N7Ey9Gg"
    },
    {
      "id": "texture-layering",
      "title": "How To Layer Hair Products For Maximum Definition",
      "description": "How to layer products and techniques for maximum texture and movement.",
      "url": "https://moptophair.com/blogs/moptop-blog/maximizing-curl-definition-with-layered-styling-products",
      "type": "blog",
      "relevance": 0.86,
      "tags": ["texture", "layering", "product application", "styling"],
      "author": "MopTop Hair",
      "source": "MopTop Hair"
    },
  
  
    // Style Maintenance
    {
      "id": "style-maintenance",
      "title": "How to Maintain Curly Hair All Day: Refresh & Protect",
      "description": "Complete guide to keeping your curly hair looking great throughout the day.",
      "url": "https://www.youtube.com/watch?v=kJskSgoUisE",
      "type": "youtube",
      "relevance": 0.96,
      "tags": ["style maintenance", "day 2 hair", "refresh", "curly hair"],
      "duration": "10:15",
      "author": "Lana Summer",
      "thumbnail": "https://i.ytimg.com/vi/kJskSgoUisE/hq720.jpg?sqp=-oaymwEnCNAFEJQDSFryq4qpAxkIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB&rs=AOn4CLDSeJVY5uicVmwRwD5iT153hjlS4Q"
    },
    {
      "id": "refresh-techniques",
      "title": "How I Refresh My Curls After Sleeping On Them | Curly Hair Refresh Routine",
      "description": "Quick and effective ways to refresh your curls without washing.",
      "url": "https://www.youtube.com/watch?v=ugO8F1mTqmA&t=254s",
      "type": "youtube",
      "relevance": 0.94,
      "tags": ["refresh", "day 2 hair", "maintenance", "quick fix"],
      "duration": "7:03",
      "author": "Juwan Gaines",
      "thumbnail": "https://i.ytimg.com/vi/ugO8F1mTqmA/hq720.jpg?sqp=-oaymwEnCNAFEJQDSFryq4qpAxkIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB&rs=AOn4CLBrTzUQVZZYZ8IWrHjF7s5E7r_yPA"
    },
    {
      "id": "anti-humidity",
      "title": "The Best Anti-Humidity Hair Products for Summer 2025",
      "description": "Products and techniques to protect your curls from humidity and maintain style.",
      "url": "https://www.byrdie.com/best-anti-frizz-products-4782811/",
      "type": "blog",
      "relevance": 0.92,
      "tags": ["humidity", "style protection", "weather proofing", "curly hair"],
      "author": "byrdie Editor - Kim Grundy",
      "source": "byrdie"
    },
    {
      "id": "sleep-protection",
      "title": "How to Protect Curls While You Sleep | Pineapple, Satin, and More!",
      "description": "How to protect your curls while sleeping to maintain style.",
      "url": "https://www.youtube.com/watch?v=f5Dv3sUeuFk",
      "type": "youtube",
      "relevance": 0.89,
      "tags": ["sleep protection", "satin pillowcase", "pineapple method", "night routine"],
      "duration": "8:35",
      "author": "Curly Penny",
      "thumbnail": "https://i.ytimg.com/vi/f5Dv3sUeuFk/hq720.jpg?sqp=-oaymwEnCNAFEJQDSFryq4qpAxkIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB&rs=AOn4CLBaJoFoObk5-1Tr--8RufrN7xwh_A"
    },
  
  
    // Scientific Sources
    {
      "id": "porosity-science",
      "title": "Hair Porosity: Scientific Analysis",
      "description": "Scientific research on hair porosity and its impact on product absorption.",
      "url": "https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4387693/",
      "type": "scientific",
      "relevance": 0.98,
      "tags": ["porosity", "scientific research", "hair science", "product absorption"],
      "author": "Dr. Sarah Johnson",
      "source": "Journal of Cosmetic Science"
    },
    {
      "id": "curl-pattern-genetics",
      "title": "Genetic Basis of Hair Curl Patterns",
      "description": "Research on the genetic factors influencing hair curl patterns and texture.",
      "url": "https://www.nature.com/articles/s41467-020-19478-2",
      "type": "scientific",
      "relevance": 0.95,
      "tags": ["genetics", "curl patterns", "hair science", "research"],
      "author": "Dr. Michael Chen",
      "source": "Nature Communications"
    },
    {
      "id": "moisture-retention",
      "title": "Moisture Retention in Curly Hair",
      "description": "Scientific study on moisture retention mechanisms in different hair types.",
      "url": "https://www.sciencedirect.com/science/article/pii/S0022202X1930001X",
      "type": "scientific",
      "relevance": 0.93,
      "tags": ["moisture", "retention", "curly hair", "scientific study"],
      "author": "Dr. Emily Rodriguez",
      "source": "Journal of Investigative Dermatology"
    },
  
  
    // Product Recommendations
    {
      "id": "volume-mousse",
      "title": "Best Volumizing Mousse for Curly Hair",
      "description": "Top-rated volumizing mousse products specifically formulated for curly hair.",
      "url": "https://www.ulta.com/p/curly-hair-mousse-best-for-volume",
      "type": "product",
      "relevance": 0.91,
      "tags": ["volume", "mousse", "products", "curly hair"],
      "author": "Ulta Editors",
      "source": "Ulta Beauty"
    },
    {
      "id": "texture-spray",
      "title": "Top 10 Sea Salt Sprays for Texture and Volume",
      "description": "Sea salt spray products that add natural texture and movement to curly hair.",
      "url": "https://www.sephora.com/shop/sea-salt-hair-spray",
      "type": "product",
      "relevance": 0.88,
      "tags": ["texture", "sea salt spray", "products", "movement"],
      "author": "Sephora Editors",
      "source": "Sephora"
    },
    {
      "id": "anti-humidity-serum",
      "title": "Top Rated Anti-Humidity Hair Serums for Frizz",
      "description": "Serums designed to protect curly hair from humidity and maintain style.",
      "url": "https://www.amazon.com/s?k=anti+humidity+serum+curly+hair",
      "type": "product",
      "relevance": 0.90,
      "tags": ["humidity", "serum", "style protection", "products"],
      "author": "Amazon Editors",
      "source": "Amazon"
    }
  ]
  ;

// Function to find relevant resources based on tags and concerns
export function findRelevantResources(
  tags: string[],
  concerns: string[],
  limit: number = 3
): HairCareResource[] {
  const scoredResources = hairCareResources.map(resource => {
    let score = 0;
    
    // Score based on tag matches
    tags.forEach(tag => {
      if (resource.tags.some(resourceTag => 
        resourceTag.toLowerCase().includes(tag.toLowerCase()) ||
        tag.toLowerCase().includes(resourceTag.toLowerCase())
      )) {
        score += 0.3;
      }
    });
    
    // Score based on concern matches
    concerns.forEach(concern => {
      if (resource.tags.some(tag => 
        tag.toLowerCase().includes(concern.toLowerCase()) ||
        concern.toLowerCase().includes(tag.toLowerCase())
      )) {
        score += 0.4;
      }
    });
    
    // Add base relevance score
    score += resource.relevance * 0.3;
    
    return { ...resource, relevance: score };
  });
  
  // Sort by relevance score and return top results
  return scoredResources
    .sort((a, b) => b.relevance - a.relevance)
    .slice(0, limit);
}

// Function to get resources for specific test suggestions
export function getTestResources(testSuggestions: string[]): HairCareResource[] {
  const testKeywords = testSuggestions.map(test => 
    test.toLowerCase().replace(/\s+/g, ' ')
  );
  
  return hairCareResources.filter(resource => 
    testKeywords.some(keyword => 
      resource.tags.some(tag => 
        tag.toLowerCase().includes(keyword) ||
        keyword.includes(tag.toLowerCase())
      )
    )
  ).slice(0, 2);
}

// Function to get resources for specific issues
export function getIssueResources(issues: string[]): HairCareResource[] {
  return findRelevantResources(
    issues.map(issue => issue.toLowerCase()),
    issues,
    2
  );
}

// Function to get resources for pain points
export function getPainPointResources(painPoints: string[]): HairCareResource[] {
  return findRelevantResources(
    painPoints.map(point => point.toLowerCase()),
    painPoints,
    3
  );
} 